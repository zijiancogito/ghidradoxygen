\hypertarget{class_comment_database_ghidra}{}\section{Comment\+Database\+Ghidra Class Reference}
\label{class_comment_database_ghidra}\index{CommentDatabaseGhidra@{CommentDatabaseGhidra}}


An implementation of \mbox{\hyperlink{class_comment_database}{Comment\+Database}} backed by a Ghidra client.  




{\ttfamily \#include $<$comment\+\_\+ghidra.\+hh$>$}



Inheritance diagram for Comment\+Database\+Ghidra\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{class_comment_database_ghidra__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Comment\+Database\+Ghidra\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{class_comment_database_ghidra__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_comment_database_ghidra_a82d38a9bf0a21a74bb3327c0782e50f4}{Comment\+Database\+Ghidra}} (\mbox{\hyperlink{class_architecture_ghidra}{Architecture\+Ghidra}} $\ast$g)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{class_constructor}{Constructor}}. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_comment_database_ghidra_a723dd4415e6eab6c4b5edacbc97a9332}{clear}} (void)
\begin{DoxyCompactList}\small\item\em Clear all comments from this container. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_comment_database_ghidra_ac5b963863187535cd0c2150bc7df4510}{clear\+Type}} (const \mbox{\hyperlink{class_address}{Address}} \&fad, uint4 tp)
\begin{DoxyCompactList}\small\item\em Clear all comments matching (one of) the indicated types. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_comment_database_ghidra_ac4391823aa263f7c1b3488a825a534a9}{add\+Comment}} (uint4 tp, const \mbox{\hyperlink{class_address}{Address}} \&fad, const \mbox{\hyperlink{class_address}{Address}} \&ad, const string \&txt)
\item 
virtual bool \mbox{\hyperlink{class_comment_database_ghidra_a39ad32e0b6abb1ee32c96780ac9b446c}{add\+Comment\+No\+Duplicate}} (uint4 tp, const \mbox{\hyperlink{class_address}{Address}} \&fad, const \mbox{\hyperlink{class_address}{Address}} \&ad, const string \&txt)
\begin{DoxyCompactList}\small\item\em Add a new comment to the container, making sure there is no duplicate. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_comment_database_ghidra_a988787294b6b5657f7b895d0f8ecce92}{delete\+Comment}} (\mbox{\hyperlink{class_comment}{Comment}} $\ast$com)
\begin{DoxyCompactList}\small\item\em Remove the given \mbox{\hyperlink{class_comment}{Comment}} object from the container. \end{DoxyCompactList}\item 
virtual Comment\+Set\+::const\+\_\+iterator \mbox{\hyperlink{class_comment_database_ghidra_a3fc25277281f61f2aa851b4bbb1e33f1}{begin\+Comment}} (const \mbox{\hyperlink{class_address}{Address}} \&fad) const
\begin{DoxyCompactList}\small\item\em Get an iterator to the beginning of comments for a single function. \end{DoxyCompactList}\item 
virtual Comment\+Set\+::const\+\_\+iterator \mbox{\hyperlink{class_comment_database_ghidra_aab66e37f898fbd4f15dedfe11d024b9c}{end\+Comment}} (const \mbox{\hyperlink{class_address}{Address}} \&fad) const
\begin{DoxyCompactList}\small\item\em Get an iterator to the ending of comments for a single function. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_comment_database_ghidra_aed8e6973a2bfb1077970a2db93e4bde1}{save\+Xml}} (ostream \&s) const
\begin{DoxyCompactList}\small\item\em Save all comments in the container to an X\+ML stream. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_comment_database_ghidra_ab787aca7833ed057ba06d82fc258e738}{restore\+Xml}} (const \mbox{\hyperlink{class_element}{Element}} $\ast$el, const \mbox{\hyperlink{class_addr_space_manager}{Addr\+Space\+Manager}} $\ast$trans)
\begin{DoxyCompactList}\small\item\em Restore all comments from X\+ML. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
An implementation of \mbox{\hyperlink{class_comment_database}{Comment\+Database}} backed by a Ghidra client. 

\mbox{\hyperlink{class_comment}{Comment}} information about particular functions is obtained by querying a Ghidra client. All comments for a single function are queried at once, and results are cached in this object. The cache needs to be cleared between functions using the \mbox{\hyperlink{class_comment_database_ghidra_a723dd4415e6eab6c4b5edacbc97a9332}{clear()}} method. 

Definition at line 30 of file comment\+\_\+ghidra.\+hh.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_comment_database_ghidra_a82d38a9bf0a21a74bb3327c0782e50f4}\label{class_comment_database_ghidra_a82d38a9bf0a21a74bb3327c0782e50f4}} 
\index{CommentDatabaseGhidra@{CommentDatabaseGhidra}!CommentDatabaseGhidra@{CommentDatabaseGhidra}}
\index{CommentDatabaseGhidra@{CommentDatabaseGhidra}!CommentDatabaseGhidra@{CommentDatabaseGhidra}}
\subsubsection{\texorpdfstring{CommentDatabaseGhidra()}{CommentDatabaseGhidra()}}
{\footnotesize\ttfamily Comment\+Database\+Ghidra\+::\+Comment\+Database\+Ghidra (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_architecture_ghidra}{Architecture\+Ghidra}} $\ast$}]{g }\end{DoxyParamCaption})}



\mbox{\hyperlink{class_constructor}{Constructor}}. 



Definition at line 18 of file comment\+\_\+ghidra.\+cc.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_comment_database_ghidra_ac4391823aa263f7c1b3488a825a534a9}\label{class_comment_database_ghidra_ac4391823aa263f7c1b3488a825a534a9}} 
\index{CommentDatabaseGhidra@{CommentDatabaseGhidra}!addComment@{addComment}}
\index{addComment@{addComment}!CommentDatabaseGhidra@{CommentDatabaseGhidra}}
\subsubsection{\texorpdfstring{addComment()}{addComment()}}
{\footnotesize\ttfamily void Comment\+Database\+Ghidra\+::add\+Comment (\begin{DoxyParamCaption}\item[{uint4}]{tp,  }\item[{const \mbox{\hyperlink{class_address}{Address}} \&}]{fad,  }\item[{const \mbox{\hyperlink{class_address}{Address}} \&}]{ad,  }\item[{const string \&}]{txt }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

For the Ghidra implementation of \mbox{\hyperlink{class_comment_database}{Comment\+Database}}, \mbox{\hyperlink{class_comment_database_ghidra_ac4391823aa263f7c1b3488a825a534a9}{add\+Comment()}} is currently only called by the warning routines which generates the {\itshape warning} and {\itshape warningheader} comment types. Neither of these types is intended to be a permanent comment in the database, so we only add the comment to the cache 

Implements \mbox{\hyperlink{class_comment_database_a0e7bd4fd808c28610f4867af22589f0c}{Comment\+Database}}.



Definition at line 56 of file comment\+\_\+ghidra.\+cc.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_comment_database_ghidra_ac4391823aa263f7c1b3488a825a534a9_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_comment_database_ghidra_a39ad32e0b6abb1ee32c96780ac9b446c}\label{class_comment_database_ghidra_a39ad32e0b6abb1ee32c96780ac9b446c}} 
\index{CommentDatabaseGhidra@{CommentDatabaseGhidra}!addCommentNoDuplicate@{addCommentNoDuplicate}}
\index{addCommentNoDuplicate@{addCommentNoDuplicate}!CommentDatabaseGhidra@{CommentDatabaseGhidra}}
\subsubsection{\texorpdfstring{addCommentNoDuplicate()}{addCommentNoDuplicate()}}
{\footnotesize\ttfamily bool Comment\+Database\+Ghidra\+::add\+Comment\+No\+Duplicate (\begin{DoxyParamCaption}\item[{uint4}]{tp,  }\item[{const \mbox{\hyperlink{class_address}{Address}} \&}]{fad,  }\item[{const \mbox{\hyperlink{class_address}{Address}} \&}]{ad,  }\item[{const string \&}]{txt }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Add a new comment to the container, making sure there is no duplicate. 

If there is already a comment at the same address with the same body, no new comment is added. 
\begin{DoxyParams}{Parameters}
{\em tp} & is a set of properties to associate with the new comment (may be zero) \\
\hline
{\em fad} & is the address of the function to which the comment belongs \\
\hline
{\em ad} & is the address to which the comment is attached \\
\hline
{\em txt} & is the body of the comment \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\bfseries{true}} if a new \mbox{\hyperlink{class_comment}{Comment}} was created, {\bfseries{false}} if there was a duplicate 
\end{DoxyReturn}


Implements \mbox{\hyperlink{class_comment_database_a41b306ed1b9ac26a4b2c80a927be3364}{Comment\+Database}}.



Definition at line 64 of file comment\+\_\+ghidra.\+cc.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_comment_database_ghidra_a39ad32e0b6abb1ee32c96780ac9b446c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_comment_database_ghidra_a3fc25277281f61f2aa851b4bbb1e33f1}\label{class_comment_database_ghidra_a3fc25277281f61f2aa851b4bbb1e33f1}} 
\index{CommentDatabaseGhidra@{CommentDatabaseGhidra}!beginComment@{beginComment}}
\index{beginComment@{beginComment}!CommentDatabaseGhidra@{CommentDatabaseGhidra}}
\subsubsection{\texorpdfstring{beginComment()}{beginComment()}}
{\footnotesize\ttfamily Comment\+Set\+::const\+\_\+iterator Comment\+Database\+Ghidra\+::begin\+Comment (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_address}{Address}} \&}]{fad }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Get an iterator to the beginning of comments for a single function. 


\begin{DoxyParams}{Parameters}
{\em fad} & is the address of the function \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the beginning iterator 
\end{DoxyReturn}


Implements \mbox{\hyperlink{class_comment_database_a4eb1eb37180fc092244b37ea11f7f2a4}{Comment\+Database}}.



Definition at line 70 of file comment\+\_\+ghidra.\+cc.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_comment_database_ghidra_a3fc25277281f61f2aa851b4bbb1e33f1_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_comment_database_ghidra_a723dd4415e6eab6c4b5edacbc97a9332}\label{class_comment_database_ghidra_a723dd4415e6eab6c4b5edacbc97a9332}} 
\index{CommentDatabaseGhidra@{CommentDatabaseGhidra}!clear@{clear}}
\index{clear@{clear}!CommentDatabaseGhidra@{CommentDatabaseGhidra}}
\subsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily virtual void Comment\+Database\+Ghidra\+::clear (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Clear all comments from this container. 



Implements \mbox{\hyperlink{class_comment_database_a11e384fc79f6cf6e8c7af6c608df4baa}{Comment\+Database}}.



Definition at line 37 of file comment\+\_\+ghidra.\+hh.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_comment_database_ghidra_a723dd4415e6eab6c4b5edacbc97a9332_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_comment_database_ghidra_ac5b963863187535cd0c2150bc7df4510}\label{class_comment_database_ghidra_ac5b963863187535cd0c2150bc7df4510}} 
\index{CommentDatabaseGhidra@{CommentDatabaseGhidra}!clearType@{clearType}}
\index{clearType@{clearType}!CommentDatabaseGhidra@{CommentDatabaseGhidra}}
\subsubsection{\texorpdfstring{clearType()}{clearType()}}
{\footnotesize\ttfamily virtual void Comment\+Database\+Ghidra\+::clear\+Type (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_address}{Address}} \&}]{fad,  }\item[{uint4}]{tp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Clear all comments matching (one of) the indicated types. 

Clearing is restricted to comments belonging to a specific function and matching at least one of the given properties 
\begin{DoxyParams}{Parameters}
{\em fad} & is the address of the owning function \\
\hline
{\em tp} & is a set of one or more properties \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{class_comment_database_af4467b35ea8555ddc77e810453051a96}{Comment\+Database}}.



Definition at line 38 of file comment\+\_\+ghidra.\+hh.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_comment_database_ghidra_ac5b963863187535cd0c2150bc7df4510_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_comment_database_ghidra_a988787294b6b5657f7b895d0f8ecce92}\label{class_comment_database_ghidra_a988787294b6b5657f7b895d0f8ecce92}} 
\index{CommentDatabaseGhidra@{CommentDatabaseGhidra}!deleteComment@{deleteComment}}
\index{deleteComment@{deleteComment}!CommentDatabaseGhidra@{CommentDatabaseGhidra}}
\subsubsection{\texorpdfstring{deleteComment()}{deleteComment()}}
{\footnotesize\ttfamily virtual void Comment\+Database\+Ghidra\+::delete\+Comment (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_comment}{Comment}} $\ast$}]{com }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Remove the given \mbox{\hyperlink{class_comment}{Comment}} object from the container. 


\begin{DoxyParams}{Parameters}
{\em com} & is the given \mbox{\hyperlink{class_comment}{Comment}} \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{class_comment_database_ac41202723e47b57dd4996d484629d019}{Comment\+Database}}.



Definition at line 44 of file comment\+\_\+ghidra.\+hh.

\mbox{\Hypertarget{class_comment_database_ghidra_aab66e37f898fbd4f15dedfe11d024b9c}\label{class_comment_database_ghidra_aab66e37f898fbd4f15dedfe11d024b9c}} 
\index{CommentDatabaseGhidra@{CommentDatabaseGhidra}!endComment@{endComment}}
\index{endComment@{endComment}!CommentDatabaseGhidra@{CommentDatabaseGhidra}}
\subsubsection{\texorpdfstring{endComment()}{endComment()}}
{\footnotesize\ttfamily Comment\+Set\+::const\+\_\+iterator Comment\+Database\+Ghidra\+::end\+Comment (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_address}{Address}} \&}]{fad }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Get an iterator to the ending of comments for a single function. 


\begin{DoxyParams}{Parameters}
{\em fad} & is the address of the function \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the ending iterator 
\end{DoxyReturn}


Implements \mbox{\hyperlink{class_comment_database_a51e0634dc24c921507426298910336f4}{Comment\+Database}}.



Definition at line 77 of file comment\+\_\+ghidra.\+cc.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_comment_database_ghidra_aab66e37f898fbd4f15dedfe11d024b9c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_comment_database_ghidra_ab787aca7833ed057ba06d82fc258e738}\label{class_comment_database_ghidra_ab787aca7833ed057ba06d82fc258e738}} 
\index{CommentDatabaseGhidra@{CommentDatabaseGhidra}!restoreXml@{restoreXml}}
\index{restoreXml@{restoreXml}!CommentDatabaseGhidra@{CommentDatabaseGhidra}}
\subsubsection{\texorpdfstring{restoreXml()}{restoreXml()}}
{\footnotesize\ttfamily virtual void Comment\+Database\+Ghidra\+::restore\+Xml (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_element}{Element}} $\ast$}]{el,  }\item[{const \mbox{\hyperlink{class_addr_space_manager}{Addr\+Space\+Manager}} $\ast$}]{manage }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Restore all comments from X\+ML. 


\begin{DoxyParams}{Parameters}
{\em el} & is the root $<$commentdb$>$ element \\
\hline
{\em manage} & is a manager for resolving address space references \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{class_comment_database_a21e8b98e7f4276e239f6b2ea59191ded}{Comment\+Database}}.



Definition at line 50 of file comment\+\_\+ghidra.\+hh.

\mbox{\Hypertarget{class_comment_database_ghidra_aed8e6973a2bfb1077970a2db93e4bde1}\label{class_comment_database_ghidra_aed8e6973a2bfb1077970a2db93e4bde1}} 
\index{CommentDatabaseGhidra@{CommentDatabaseGhidra}!saveXml@{saveXml}}
\index{saveXml@{saveXml}!CommentDatabaseGhidra@{CommentDatabaseGhidra}}
\subsubsection{\texorpdfstring{saveXml()}{saveXml()}}
{\footnotesize\ttfamily virtual void Comment\+Database\+Ghidra\+::save\+Xml (\begin{DoxyParamCaption}\item[{ostream \&}]{s }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Save all comments in the container to an X\+ML stream. 

Writes a $<$commentdb$>$ tag, with $<$comment$>$ sub-\/tags for each \mbox{\hyperlink{class_comment}{Comment}} object. 
\begin{DoxyParams}{Parameters}
{\em s} & is the output stream \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{class_comment_database_ab80e2cbdabe2e275695c5980b8f8eb9a}{Comment\+Database}}.



Definition at line 48 of file comment\+\_\+ghidra.\+hh.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
F\+:/re/ghidra\+\_\+sourcecode/ghidra/\+Ghidra/\+Features/\+Decompiler/src/decompile/cpp/\mbox{\hyperlink{comment__ghidra_8hh}{comment\+\_\+ghidra.\+hh}}\item 
F\+:/re/ghidra\+\_\+sourcecode/ghidra/\+Ghidra/\+Features/\+Decompiler/src/decompile/cpp/\mbox{\hyperlink{comment__ghidra_8cc}{comment\+\_\+ghidra.\+cc}}\end{DoxyCompactItemize}
